#!/usr/bin/env bash

cwd="$(pwd)"
cwdb="$cwd/bash"
bash_files=".bashrc .bash_profile .bash_aliases"

# creating $old_dotfiles for backup of any existing dotfiles
old_dotfiles=~/dotfiles_old	
mkdir -p "$old_dotfiles/bash"

# symlink bash files in home directory
for file in $bash_files; do
	[ -f ~/$file ] && mv ~/$file "$old_dotfiles/bash"
	[ -f $cwdb/$file ] && ln -s "$cwdb/$file" ~/$file
done


# reload bash_profile
source ~/.bash_profile

# Run OSX specific script
if [ "$(uname -s)" = "Darwin" ]; then
	$cwd/macos/.init
fi