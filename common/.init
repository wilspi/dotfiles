#!/usr/bin/env bash
# Setup across environments

# TODO: get $cwd from $0 using string operations

cwd=$1
email=$2

# Make code directory
[ ! -d ~/Documents/CodeStuff/ ] && mkdir -p ~/Documents/CodeStuff/

# Setup SSH
# Generate new ssh key if ~/.ssh doesn't exist
[ ! -d ~/.ssh ] && ssh-keygen -t rsa -b 4096 -C $email

# SSH Agent
# Read: https://www.ssh.com/ssh/add
ssh-add -K ~/.ssh/id_rsa

# Files to ignore globally for git
git config --global core.excludesfile '$cwd/.git_global_ignore'

# TODO: Setup git and sshpass for git

# TODO: is it required to be here
# export PATH="$HOME/.cargo/bin:$PATH"
